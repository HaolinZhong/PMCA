(()=>{"use strict";var e,t,a,o,r={699:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(81),r=a.n(o),n=a(645),l=a.n(n)()(r());l.push([e.id,"table,\ntbody,\ntr,\nth,\ntd {\n    background-color: rgba(255, 255, 255, 0.2) !important;\n}\n\n.custom-switch:focus {\n    border-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 0 5px 2px bisque;\n}\n\n.custom-switch:checked {\n    border-color: rgba(255, 255, 255, 0.2);\n    background-color: chocolate;\n    box-shadow: 0 0 5px 2px bisque;\n}\n\niframe {\n    overflow: hidden;\n    border: 0;\n}\n\n.custom-btn {\n    border-color: chocolate;\n    color: chocolate;\n}\n\n.custom-btn:hover {\n    border-color: rgba(235, 173, 129, 1);\n    background-color: rgba(235, 173, 129, 1);\n}\n\n.custom-btn:disabled {\n    border-color: rgba(70, 70, 70, 0.5);\n    color: rgb(70, 70, 70, 0.5);\n}\n\n.multifont {\n    font-family: 'Courier Prime', 'Noto Sans SC', sans-serif;\n}\n\na {\n    color: chocolate;\n}\n\n.custom-tooltip {\n    --bs-tooltip-bg: var(--bd-violet-bg);\n    --bs-tooltip-color: var(--bs-white);\n}",""]);const s=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",o=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),o&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),o&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,o,r,n){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(o)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(l[i]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&l[d[0]]||(void 0!==n&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},823:(e,t,a)=>{var o=a(379),r=a.n(o),n=a(795),l=a.n(n),s=a(569),i=a.n(s),c=a(565),d=a.n(c),u=a(216),m=a.n(u),p=a(589),b=a.n(p),g=a(699),v={};v.styleTagTransform=b(),v.setAttributes=d(),v.insert=i().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=m(),r()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals},379:e=>{var t=[];function a(e){for(var a=-1,o=0;o<t.length;o++)if(t[o].identifier===e){a=o;break}return a}function o(e,o){for(var n={},l=[],s=0;s<e.length;s++){var i=e[s],c=o.base?i[0]+o.base:i[0],d=n[c]||0,u="".concat(c," ").concat(d);n[c]=d+1;var m=a(u),p={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var b=r(p,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:b,references:1})}l.push(u)}return l}function r(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,r){var n=o(e=e||[],r=r||{});return function(e){e=e||[];for(var l=0;l<n.length;l++){var s=a(n[l]);t[s].references--}for(var i=o(e,r),c=0;c<n.length;c++){var d=a(n[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}n=i}}},569:e=>{var t={};e.exports=function(e,a){var o=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(a)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var o="";a.supports&&(o+="@supports (".concat(a.supports,") {")),a.media&&(o+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(o+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),o+=a.css,r&&(o+="}"),a.media&&(o+="}"),a.supports&&(o+="}");var n=a.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},14:(e,t,a)=>{a.a(e,(async(e,t)=>{try{a(823);var o=a(994);console.log("Hello PMCA!"),await(0,o.xy)(),t()}catch(e){t(e)}}),1)},994:(e,t,a)=>{a.d(t,{xy:()=>ye,mg:()=>he,Kt:()=>ge,pX:()=>ve});const o={needReviewProblems:null,reviewScheduledProblems:null,completedProblems:null,toReviewPage:1,scheduledPage:1,completedPage:1,toReviewMaxPage:null,scheduledMaxPage:null,completedMaxPage:null,tooltipTriggerList:null,tooltipList:null,easyIntv:[1,3],mediumIntv:[1,3,4],hardIntv:[0,1,2,3,4]},r=async e=>new Promise(((t,a)=>{chrome.storage.local.get(e,(o=>{void 0===o||void 0===o[e]?a(e):t(o[e])}))})).catch((e=>{console.log(`get local storage data failed for key = ${e}`)})),n=async(e,t)=>new Promise((()=>{chrome.storage.local.set({[e]:t}),resolve()})).catch((e=>console.log(e))),l="cn_mode",s="cn_records",i="records",c="operation_history",d=async()=>{const e=await r(l);return console.log(`current cnMode is ${e}`),void 0===e&&(await n(l,!1),e=!1),e};class u{constructor(e,t,a,o){this.before=e,this.isInCnMode=t,this.type=a,this.time=o}}const m=Object.freeze({MASTER:"mark as mastered",RESET:"reset progress",DELETE:"delete record"}),p=async(e,t,a)=>{const o=new u(e,await d(),t,a);let l=await r(c);void 0===l&&(l=[]),10===l.length&&l.shift(),l.push(o),await n(c,l)},b=[1440,2880,5760,10080,21600],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=async()=>{const e=await d()?s:i;let t=await r(e);return void 0===t&&(t={}),t},h=async e=>{const t=e?s:i;let a=await r(t);return void 0===a&&(a={}),a},y=async e=>{const t=await d()?s:i;await n(t,e)},f=async(e,t)=>{const a=t?s:i;await n(a,e)},w=document.getElementById("pageInput0"),P=document.getElementById("pageInputLabel0"),x=document.getElementById("prevButton0"),M=document.getElementById("nextButton0"),E=document.getElementById("pageInput1"),k=document.getElementById("pageInputLabel1"),$=document.getElementById("prevButton1"),I=document.getElementById("nextButton1"),L=document.getElementById("pageInput2"),A=document.getElementById("pageInputLabel2"),S=document.getElementById("prevButton2"),T=document.getElementById("nextButton2"),R=document.getElementById("need-review-table"),B=document.getElementById("no-review-table"),_=document.getElementById("completed-table"),C=document.getElementsByClassName("check-btn-mark"),N=document.getElementsByClassName("delete-btn-mark"),O=document.getElementsByClassName("reset-btn-mark"),D=document.getElementsByClassName("undo-ops-btn"),j=document.getElementsByClassName("go-to-options-btn"),H=document.getElementById("siteLabel"),q=document.getElementById("switchButton"),z=e=>!(e.proficiency>=b.length)&&(Date.now()-e.submissionTime)/6e4>=b[e.proficiency],Z=e=>!z(e)&&e.proficiency<5,J=e=>5===e.proficiency,F=e=>Math.max(Math.ceil(e.length/5),1),U=(e,t)=>G(e).valueOf()-G(t).valueOf(),G=e=>new Date(e.submissionTime+60*b[e.proficiency]*1e3),K=async()=>{await(async()=>{const e=await d();console.log("got current cnMode before toggle}"),await n(l,!e),console.log("cnMode toggled")})(),await ye()},X=()=>{o.tooltipList.forEach((e=>e._hideModalHandler()))},Q=()=>{o.tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),o.tooltipList=[...o.tooltipTriggerList].map((e=>new bootstrap.Tooltip(e))),void 0!==C&&Array.prototype.forEach.call(C,(e=>e.onclick=async e=>{X(),await(async e=>{let t=await v(),a=t[e];await p(a,m.MASTER,Date.now()),a.proficiency=b.length,t[e]=a,await y(t)})(e.target.dataset.id),await ye()})),void 0!==N&&Array.prototype.forEach.call(N,(e=>e.onclick=async e=>{X(),await(async e=>{let t=await v();await p(t[e],m.DELETE,Date.now()),delete t[e],await y(t)})(e.target.dataset.id),await ye()})),void 0!==O&&Array.prototype.forEach.call(O,(e=>e.onclick=async e=>{X(),await(async e=>{let t=await v(),a=t[e];await p(a,m.RESET,Date.now()),a.proficiency=0,a.submissionTime=Date.now()-864e5,t[e]=a,await y(t)})(e.target.dataset.id),await ye()})),void 0!==D&&Array.prototype.forEach.call(D,(e=>e.onclick=async()=>{X(),await(async()=>{const e=await(async()=>{const e=await r(c);if(void 0===e||0===e.length)return;const t=e.pop();return await n(c,e),t})();if(void 0===e)return;const{before:t,isInCnMode:a}=e,o=await h(a);o[t.index]=t,await f(o,a)})(),await ye()}))},V=()=>{ge(o.needReviewProblems,o.toReviewPage-1),Q()},W=()=>{ge(o.needReviewProblems,o.toReviewPage+1),Q()},Y=()=>{ve(o.reviewScheduledProblems,o.scheduledPage-1),Q()},ee=()=>{ve(o.reviewScheduledProblems,o.scheduledPage+1),Q()},te=()=>{he(o.completedProblems,o.completedPage-1),Q()},ae=()=>{he(o.completedProblems,o.completedPage+1),Q()},oe=e=>{if(13!==e.keyCode)return;let t=parseInt(e.target.value);!isNaN(t)&&Number.isInteger(t)?(w.classList.remove("is-invalid"),t!==o.toReviewPage&&(ge(o.needReviewProblems,t),Q())):w.classList.add("is-invalid")},re=e=>{if(13!==e.keyCode)return;let t=parseInt(e.target.value);!isNaN(t)&&Number.isInteger(t)?(E.classList.remove("is-invalid"),t!==o.scheduledPage&&(update_schedule_table_content(o.reviewScheduledProblems,t),Q())):E.classList.add("is-invalid")},ne=e=>{if(13!==e.keyCode)return;let t=parseInt(e.target.value);!isNaN(t)&&Number.isInteger(t)?(L.classList.remove("is-invalid"),t!==o.completedPage&&(he(o.needReviewProblems,t),Q())):L.classList.add("is-invalid")},le=()=>{x.onclick=V,M.onclick=W,$.onclick=Y,I.onclick=ee,S.onclick=te,T.onclick=ae,w.onkeydown=oe,E.onkeydown=re,L.onkeydown=ne,q.onclick=K,Q(),Array.prototype.forEach.call(j,(e=>{e.onclick=async()=>{chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options.html"))}}))},se=(e,t)=>`<td style="width: ${30|t}%;"><a target="_blank" href=${e.url}><small>${e.name}</small><a/></td>`,ie=(e,t)=>`    <td style="width: ${10|t};">        <div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">            <div class="progress-bar progress-bar-striped bg-success" style="width: ${Math.max(e.proficiency,0)/5*100}%; font-size: smaller; color: black"><small><small><small>${e.proficiency/5*100}%</small></small></small></div>        </div>    </td>    `,ce=(e,t)=>`<td style="width: ${12|t}%;"><small>${(e=>{let t;return t="Easy"===e?"rgb(67, 160, 71)":"Medium"===e?"rgb(239, 108, 0)":"rgb(233, 30, 99)",`<small style="color: ${t}; vertical-align: middle">${e}</small>`})(e.level)}</small></td>`,de=e=>`<small class="fa-regular fa-square-check fa-2xs mt-2 mb-0 check-btn-mark" \n                                            data-bs-toggle="tooltip" data-bs-title="✅ Mark as mastered" data-bs-placement="left"                                            style="color: #d2691e;" data-id=${e.index}> </small>`,ue=e=>`<small class="fa-regular fa-square-minus fa-2xs mt-2 mb-0 delete-btn-mark" \n                                            data-bs-toggle="tooltip" data-bs-title="⛔ Delete this record" data-bs-placement="left"                                            style="color: red;" data-id=${e.index}> </small>`,me=e=>`<small class="fa-solid fa-arrows-rotate fa-2xs mt-2 mb-0 reset-btn-mark"                                             data-bs-toggle="tooltip" data-bs-title="🔄 Reset progress" data-bs-placement="left"                                            style="color: #d2691e;" data-id=${e.index}> </small>`,pe=e=>{const t=G(e);return`    <tr>        ${se(e)}        ${ie(e)}        ${ce(e)}        <td><small>${Math.round((Date.now()-t)/36e5)} hour(s)</small></td>        <td style="text-align: center; vertical-align:middle">            ${de(e)}            ${me(e)}            ${ue(e)}        </td>    </tr>    `},be=e=>{const t=G(e);return`    <tr style="vertical-align:middle">        ${se(e)}        ${ie(e)}        ${ce(e)}        <td><small>${g[t.getMonth()]} ${t.getDate()} ${t.getHours()}:${t.getMinutes()<10?`0${t.getMinutes()}`:t.getMinutes()}</small></td>        <td style="text-align: center; vertical-align:middle">            ${de(e)}            ${me(e)}            ${ue(e)}        </td>    </tr>    `},ge=(e,t)=>{if(console.log(o.toReviewMaxPage),t>o.toReviewMaxPage||t<1)return void w.classList.add("is-invalid");w.classList.remove("is-invalid"),o.toReviewPage=t,w.value=t,P.innerText=`/${o.toReviewMaxPage}`,1===t&&x.setAttribute("disabled","disabled"),1!==t&&x.removeAttribute("disabled"),t===o.toReviewMaxPage&&M.setAttribute("disabled","disabled"),t!==o.toReviewMaxPage&&M.removeAttribute("disabled");let a='    <thead>        <tr style="font-size: smaller">            <th>Problem</th>            <th>Progress</th>            <th>Level</th>            <th>Delay</th>            <th>Operation</th>        </tr>    </thead>    <tbody>    ';e=e.slice(5*(t-1),5*t);let r=Object.keys(e);for(const t of r)a+=pe(e[t])+"\n";a+="</tbody>",R.innerHTML=a},ve=(e,t)=>{if(t>o.scheduledMaxPage||t<1)return void E.classList.add("is-invalid");E.classList.remove("is-invalid"),o.scheduledPage=t,E.value=t,k.innerText=`/${o.scheduledMaxPage}`,1===t&&$.setAttribute("disabled","disabled"),1!==t&&$.removeAttribute("disabled"),t===o.scheduledMaxPage&&I.setAttribute("disabled","disabled"),t!==o.scheduledMaxPage&&I.removeAttribute("disabled");let a='    <thead>        <tr style="font-size: smaller">            <th>Problem</th>            <th>Progress</th>            <th>Level</th>            <th>Review Time</th>            <th>Operation</th>        </tr>    </thead>    <tbody>    ';e=e.slice(5*(t-1),5*t);let r=Object.keys(e);for(const t of r)a+=be(e[t])+"\n";a+="</tbody>",B.innerHTML=a},he=(e,t)=>{if(t>o.completedMaxPage||t<1)return void L.classList.add("is-invalid");L.classList.remove("is-invalid"),o.completedPage=t,L.value=t,A.innerText=`/${o.completedMaxPage}`,1===t&&S.setAttribute("disabled","disabled"),1!==t&&S.removeAttribute("disabled"),t===o.completedMaxPage&&T.setAttribute("disabled","disabled"),t!==o.completedMaxPage&&T.removeAttribute("disabled");let a='    <thead>        <tr style="font-size: smaller">            <th>Problem</th>            <th>Progress</th>            <th>Level</th>            <th>Operation</th>        </tr>    </thead>    <tbody>    ';e=e.slice(5*(t-1),5*t);let r=Object.keys(e);for(const t of r)a+=(n=e[t],`    <tr>        ${se(n,35)}        ${ie(n,20)}        ${ce(n)}        <td style="text-align: center; vertical-align:middle">            ${me(n)}            ${ue(n)}        </td>    </tr>    \n`);var n;a+="</tbody>",_.innerHTML=a},ye=async()=>{await(async()=>{await d()?(q.setAttribute("checked","checked"),H.innerHTML="LeetCode - China "):(q.removeAttribute("checked"),H.innerHTML="LeetCode - Global")})();const e=Object.values(await v());o.needReviewProblems=e.filter(z),o.reviewScheduledProblems=e.filter(Z),o.completedProblems=e.filter(J),o.toReviewMaxPage=F(o.needReviewProblems),o.scheduledMaxPage=F(o.reviewScheduledProblems),o.completedMaxPage=F(o.completedProblems),o.needReviewProblems.sort(U),o.reviewScheduledProblems.sort(U),o.completedProblems.sort(U),ge(o.needReviewProblems,1),ve(o.reviewScheduledProblems,1),he(o.completedProblems,1),await(async()=>{await(async()=>{const e=await r(c);return void 0!==e&&e.length>0})()?Array.prototype.forEach.call(D,(e=>e.removeAttribute("disabled"))):Array.prototype.forEach.call(D,(e=>e.setAttribute("disabled","disabled")))})(),le()}}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,exports:{}};return r[e](a,a.exports,l),a.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(r,n,l)=>{var s;l&&((s=[]).d=-1);var i,c,d,u=new Set,m=r.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=m,p[e]=e=>(s&&e(s),u.forEach(e),p.catch((e=>{}))),r.exports=p,n((r=>{var n;i=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var n=[];n.d=0,r.then((e=>{l[t]=e,o(n)}),(e=>{l[a]=e,o(n)}));var l={};return l[e]=e=>e(n),l}}var s={};return s[e]=e=>{},s[t]=r,s})))(r);var l=()=>i.map((e=>{if(e[a])throw e[a];return e[t]})),c=new Promise((t=>{(n=()=>t(l)).r=0;var a=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(n.r++,e.push(n)));i.map((t=>t[e](a)))}));return n.r?c:l()}),(e=>(e?d(p[a]=e):c(m),o(s)))),s&&s.d<0&&(s.d=0)},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.nc=void 0,l(14)})();